<!-- Generated by SpecStory -->

# WebGL shader parameter type error (2025-06-30 06:39Z)

_**User**_

TypeError: Failed to execute 'getShaderParameter' on 'WebGL2RenderingContext': parameter 1 is not of type 'WebGLShader'.

---

_**Assistant**_

This error:

```
TypeError: Failed to execute 'getShaderParameter' on 'WebGL2RenderingContext': parameter 1 is not of type 'WebGLShader'.
```

means that the first argument you passed to `gl.getShaderParameter()` is not a valid `WebGLShader` object. This usually happens for one of these reasons:

### Common Causes

1. **Shader creation failed**: The shader was not created successfully, so the variable is `null` or `undefined`.
2. **Wrong variable passed**: You accidentally passed a program, a string, or some other object instead of a shader.
3. **Shader compilation failed**: The shader failed to compile, so the object is invalid.

### How to Debug

1. **Check shader creation:**
   ```js
   var shader = gl.createShader(gl.VERTEX_SHADER);
   if (!shader) {
     console.error("Failed to create shader");
   }
   ```

2. **Check shader source and compilation:**
   ```js
   gl.shaderSource(shader, source);
   gl.compileShader(shader);
   if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
     console.error(gl.getShaderInfoLog(shader));
   }
   ```

3. **Check what you are passing:**
   Make sure you are passing the shader object, not a program or a string.

   ```js
   gl.getShaderParameter(shader, gl.COMPILE_STATUS); // shader must be a WebGLShader
   ```

### Example of Correct Usage

```js
function createShader(gl, type, source) {
  const shader = gl.createShader(type);
  if (!shader) {
    throw new Error('Unable to create shader');
  }
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
    const info = gl.getShaderInfoLog(shader);
    gl.deleteShader(shader);
    throw new Error('Could not compile shader:\n' + info);
  }
  return shader;
}
```

---

**To fix your error:**
- Double-check the value you are passing to `getShaderParameter`.
- Make sure you are not passing `null`, `undefined`, or a program object.
- Add error checks after `createShader` and before using the shader.

If you want, you can share the relevant code snippet and I can help you pinpoint the exact issue!

---

